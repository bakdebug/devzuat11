<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Anayasa Mevzuatları — Devzuat</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --brand:#0701A2;
      --text:#0f172a;
      --muted:#64748b;
      --surface:#ffffff;
      --surface-2:#f8fafc;
      --radius:14px;
      --shadow:0 10px 30px rgba(2,6,23,.1);
    }

    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{
      font-family:'Aptos', sans-serif;
      color:var(--text);
      background: linear-gradient(-45deg,
    #b8d0eb,  /* Açık mavi */
    #bcded8,  /* Açık yeşilimsi mavi */
    #d9c8f1,  /* Lila - açık mor */
    #a6d6d1,  /* Mint yeşili */
    #c8d3f5   /* Lavanta tonu */);
      background-size:400% 400%;
      min-height:100vh;
    }

  
 
    /* ===== PAGE CONTENT ===== */
    .container{max-width:1100px; margin:24px auto; padding:0 16px}
    .page-hero{
      width: 80%;
      max-width: 80%;
      margin: 0 auto 16px auto;
      background:var(--surface); border-radius:var(--radius); box-shadow:var(--shadow);
      padding:24px; display:flex; align-items:center; justify-content:space-between; gap:16px;
    }
    .page-hero h1{
      margin: 0;
      font-size: 28px;
      color: var(--brand);
      white-space: normal;
      overflow-wrap: break-word;
      word-break: break-word;
      line-height: 1.4;
      display: block;
    }
    .page-hero p{margin:6px 0 0; color:var(--muted)}

    .hero-actions{display:flex; align-items:center; gap:10px}
    .btn {
      appearance: none;
      border: 0;
      cursor: pointer;
      min-height: 40px;
      padding: 8px 14px;
      border-radius: 10px;
      font-weight: 600;
      letter-spacing: .2px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      text-align: center;
      white-space: normal;
      word-wrap: break-word;
    }
    .btn.primary{ background:var(--brand); color:#fff; }
    .btn.primary:hover{ background:#0b0699 }
    .btn.ghost{ background:#eef2ff; color:var(--brand) }
    .btn.ghost:hover{ background:#e0e7ff }

    /* Filter/Search area */
    .filters{
      margin-top:16px; background:var(--surface); border-radius:var(--radius);
      box-shadow:var(--shadow); padding:16px; display:grid; gap:12px;
      grid-template-columns: 1.4fr 1fr 1fr .8fr auto;
    }
    .input, select{
      height:40px; width:100%; border:1px solid #e2e8f0; border-radius:10px; padding:0 12px;
      font:inherit; outline:none; transition:border-color .2s, box-shadow .2s;
      background:#fff;
    }
    .input:focus, select:focus{ border-color:#93c5fd; box-shadow:0 0 0 3px rgba(59,130,246,.2) }

    /* Results table placeholder */
    .card{
      margin-top:16px; background:#fff; border-radius:var(--radius); box-shadow:var(--shadow);
      padding:0;
    }
    table{ width:100%; border-collapse:collapse; }
    th, td {
      padding: 12px 14px;
      border-bottom: 1px solid #edf2f7;
    }

    td {
      word-break: break-word;
    }

    td:nth-child(1), th:nth-child(1) {
      max-width: 420px;
      width: 50%;
      white-space: normal;
    }

    td:nth-child(2), th:nth-child(2),
    td:nth-child(3), th:nth-child(3),
    td:nth-child(4), th:nth-child(4) {
      white-space: nowrap;
      width: 12%;
      text-align: left;
    }
    th{ text-align:left; color:#475569; font-weight:600; background:#f8fafc }
    tr:hover td{ background:#f9fbff }

    /* Footer spacer */
    .spacer{height:40px}
    @media (max-width: 960px){
      .filters{ grid-template-columns: 1fr 1fr; }
    }

#docx-content {
  font-family: 'Aptos', sans-serif;
  color: #0f172a;
  background: transparent;
  padding: 24px;
  border-radius: 14px;
  box-shadow: 0 10px 30px rgba(2,6,23,.1);
  line-height: 1.75;
  min-height: 1000px;
}

#docx-content h1, #docx-content h2, #docx-content h3 {
  color: #0701A2;
  margin-top: 24px;
  margin-bottom: 12px;
  font-weight: 600;
}

#docx-content p {
  margin-bottom: 16px;
  font-size: 16px;
  text-align: justify;
}

#docconstitution-category-content {
  background: #ffffff;
}

#docx-content {
  font-family: Calibri, sans-serif;
}

  </style>
</head>
<body>


  <!-- ===== PAGE BODY ===== -->
  <main class="container">
    <section class="page-hero">
      <div>
        <h1>Anayasa Mevzuatları</h1>
        <p>Kanun, yönetmelik ve tebliğlerde hızlı arama ve filtreleme.</p>
      </div>
      <div class="hero-actions">
        <button class="btn primary" id="btn-quick-search" style="margin-left: auto;">Hızlı Arama</button>
      </div>
    </section>

  

    <!-- Anayasa Kategori Sayfa Yeri -->
    <section id="constitution-category-content" class="card" style="width: 80%; margin: 16px auto; padding: 24px; text-align: center;">
      <p>Lütfen yukarıdan bir anayasa kategorisi seçin.</p>
    </section>

    <!-- Sonuçlar Placeholder -->
    <section class="card" style="width: 80%; margin: 0 auto;">
      <table>
        <thead>
          <tr>
            <th>Başlık</th>
            <th>Tür</th>
            <th>No</th>
            <th>Tarih</th>
          </tr>
        </thead>
        <tbody id="tbl-results">
          <tr style="cursor: pointer;" onclick="openHtml('./assets/veriler/docs/anayasa-mahkemesi/1.5.6216.html')">
            <td>ANAYASA MAHKEMESİNİN KURULUŞU VE YARGILAMA USULLERİ HAKKINDA KANUN</td>
            <td>Kanun</td>
            <td>6216</td>
            <td>30/3/2011</td>
          </tr>
  

        </tbody>
      </table>
    </section>

    <div class="spacer"></div>
  </main>

  <script>
  async function extractFromHtml(filePath) {
    const response = await fetch(filePath);
    const html = await response.text();
    const doc = new DOMParser().parseFromString(html, 'text/html');

    const title = doc.querySelector('h1')?.innerText.trim() || 'Bilinmiyor';

    const fullText = doc.body.innerText.replace(/\s+/g, ' ').trim();

    const noMatch = fullText.match(/Kanun\s+Numarası\s*:?\s*([0-9]+)/i);
    const dateMatch = fullText.match(/Kabul\s+Tarihi\s*:?\s*([0-9]{1,2}\/[0-9]{1,2}\/[0-9]{4})/i);

    const no = noMatch ? noMatch[1] : 'Belirsiz';
    const date = dateMatch ? dateMatch[1] : 'Belirsiz';

    return { title, no, date, filePath };
  }

  function openHtml(filePath) {
    const content = document.getElementById('constitution-category-content');
    content.innerHTML = `<div id="docx-content"><iframe src="${filePath}" style="width:100%; height:1000px; border:none;"></iframe></div>`;
  }

  async function buildSmartTable() {
    const fileList = [
      './assets/veriler/docs/anayasa-mahkemesi/1.5.6216.html',
      './assets/veriler/docs/anayasa-mahkemesi/1.5.4722.html',
      './assets/veriler/docs/anayasa-mahkemesi/1.5.8123.html'
    ];

    const tbody = document.getElementById('tbl-results');
    tbody.innerHTML = '';

    for (const file of fileList) {
      const { title, no, date } = await extractFromHtml(file);
      const tr = document.createElement('tr');
      tr.style.cursor = 'pointer';
      tr.setAttribute('onclick', `openHtml('${file}')`);
      tr.innerHTML = `
        <td>${title}</td>
        <td>Kanun</td>
        <td>${no}</td>
        <td>${date}</td>
      `;
      tbody.appendChild(tr);
    }
  }

    // Basit dropdown kontrolü
    (function(){
      const dd = document.getElementById('accountMenu');
      const toggle = document.getElementById('accountToggle');
      if(!dd || !toggle) return;

      toggle.addEventListener('click', ()=>{
        dd.classList.toggle('open');
        toggle.classList.toggle('open');
      });

      document.addEventListener('click',(e)=>{
        if(!dd.contains(e.target)){
          dd.classList.remove('open');
          toggle.classList.remove('open');
        }
      });

      // Oturum kapatma (placeholder)
      const logout = document.getElementById('logoutBtn');
      if(logout){
        logout.addEventListener('click', ()=>{
          // Burada gerçek logout işlemi yapılabilir; şimdilik giriş sayfasına dönelim
          location.href = 'index.html';
        });
      }
    })();

    // Hızlı arama (sahte)
    document.getElementById('btn-quick-search')?.addEventListener('click', ()=>{
      alert('Hızlı arama bileşeni burada açılacak (placeholder).');
    });

    function openCategory(categoryId) {
      const content = document.getElementById('constitution-category-content');

      if (categoryId === 'anayasa-mahkemesi') {
        content.innerHTML = `
          <div id="docx-content"></div>
        `;

        fetch('./assets/veriler/docs/anayasa-mahkemesi/1.5.6216.html')
          .then(response => {
            if (!response.ok) throw new Error("HTML dosyasına ulaşılamadı.");
            return response.text();
          })
          .then(html => {
            document.getElementById('docx-content').innerHTML = '<iframe src="./assets/veriler/docs/anayasa-mahkemesi/1.5.6216.html" style="width:100%; height:1000px; border:none;"></iframe>';
          })
          .catch(error => {
            document.getElementById('docx-content').innerHTML = `<p style="color:red;">HTML dosyası yüklenemedi: ${error.message}</p>`;
          });
      } else {
        content.innerHTML = `
          <p>Seçilen kategori: <strong>${categoryId.replace('-', ' ')}</strong><br><em>Bu alana içerik eklenecek.</em></p>
        `;
      }
    }

fetch(filePath)
  .then(response => response.text())
  .then(html => {
    document.getElementById('docx-content').innerHTML = html;
  });




  </script>

  
</body>
</html>